(this.webpackJsonpinternship=this.webpackJsonpinternship||[]).push([[0],{139:function(e,t,r){},141:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(13),c=r.n(s),o=r(99),i=r(25),l=r(34),u=r(100),d=r(15),j="REQUEST_LOGIN",m="LOGIN_SUCCESS",b="LOGIN_FAILURE",p="IS_VERIFIED",x="CHECK_VERIFIED",h="REQUEST_CREATE_PROFILE",O="SUCCESS_CREATE_PROFILE",f="FAILURE_CREATE_PROFILE",g={loading:!1,errorMessage:"",email:"",status:0,expiry:"",errorStatus:!1,auth:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,errorStatus:!1,errorMessage:""});case b:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorStatus:!0,errorMessage:t.payload});case m:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorStatus:!1,errorMessage:""},t.payload);case x:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case p:return Object(d.a)(Object(d.a)({},e),{},{loading:!1},t.payload);case h:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case O:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,errorStatus:!1,errorMessage:""},t.payload);case f:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,email:"",errorStatus:!0,errorMessage:t.payload});default:return e}},v=Object(l.c)({login:w}),y=r(21),S=r.n(y),C=r(24),k=function(e){return{type:"SUCCESS_USER_DATA",payload:e}},I=function(e){return{type:m,payload:e}},E=function(e){return{type:b,payload:e}},N=function(e){return{type:p,payload:e}},P=function(e){return{type:f,payload:e}},R=r(64),L=r(65),A=r.n(L),F="https://user34235.herokuapp.com/",_=function(){var e=Object(R.a)(S.a.mark((function e(t){var r,a,n,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,a=t.password,e.prev=1,e.next=4,A.a.post("".concat(F,"/api/authLogin"),{username:r,password:a});case 4:if(n=e.sent,!(s=n.data).email){e.next=13;break}return localStorage.setItem("token",s.token),localStorage.setItem("email",s.email),localStorage.setItem("auth",s.id),e.abrupt("return",{email:s.email,status:s.status,expiry:s.expiry,auth:s.id});case 13:throw new Error(s.message);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(R.a)(S.a.mark((function e(t){var r,a,n,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.token,a=t.email,e.prev=1,e.next=4,A.a.post("".concat(F,"/api/isVerify"),{token:r,email:a});case 4:if(n=e.sent,!(s=n.data).email){e.next=10;break}return e.abrupt("return",s);case 10:throw new Error(s.message);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(R.a)(S.a.mark((function e(t){var r,a,n,s,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.username,n=t.password,e.prev=1,e.next=4,A.a.post("".concat(F,"/api/user"),{email:r,username:a,password:n});case 4:if(s=e.sent,!(c=s.data).error){e.next=10;break}throw new Error(c.error);case 10:return localStorage.setItem("token",c.token),localStorage.setItem("email",c.email),e.abrupt("return",c);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),M=S.a.mark(q),U=S.a.mark(z),B=S.a.mark(V),W=S.a.mark(H);function q(e){var t;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(C.b)(_,e.payload);case 3:return t=r.sent,r.next=6,Object(C.c)(I(t));case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(C.c)(E(r.t0.message));case 12:case"end":return r.stop()}}),M,null,[[0,8]])}function z(e){var t;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(C.b)(T,e.payload);case 3:return t=r.sent,r.next=6,Object(C.c)(N(t));case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(C.c)(N(""));case 12:case"end":return r.stop()}}),U,null,[[0,8]])}function V(e){var t,r,a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(D,e.payload);case 3:return t=n.sent,r=t.userData,a=t.resumeData,n.next=8,Object(C.a)([Object(C.c)((s=r,{type:O,payload:s})),Object(C.c)(k(a.data))]);case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(C.c)(P(n.t0.message));case 14:case"end":return n.stop()}var s}),B,null,[[0,10]])}function H(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(j,q);case 2:return e.next=4,Object(C.d)(x,z);case 4:return e.next=6,Object(C.d)(h,V);case 6:case"end":return e.stop()}}),W)}var G=S.a.mark(Q);function Q(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([H()]);case 2:case"end":return e.stop()}}),G)}var J=Object(u.a)(),K=Object(l.e)(v,Object(l.a)(J));K.subscribe((function(){return console.log("Updated State : ",K.getState())}));J.run(Q);var Z=K,$=r(33),X=r(189),Y=r(176),ee=r(3),te=function(e){var t=e.loading;return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)(X.a,{style:{zIndex:"100"},open:t,children:Object(ee.jsx)(Y.a,{color:"inherit"})})})},re=r(177),ae=function(){var e=Object(i.b)();Object(a.useEffect)((function(){e({type:"REQUEST_USER_DATA"})}),[]);return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"container border",children:["Home Page",Object(ee.jsx)(re.a,{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("email"),window.location.reload()},children:"Logout"})]})})},ne=function(){return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)(ae,{})})},se=r(181),ce=r(186),oe=r(190),ie=r(180),le=r(188),ue=r(184),de=r(185),je=r(96),me=r.n(je),be=r(187),pe=r(52),xe={username:"",password:""},he=function(e){var t={};return e.username||(t.username="Required"),e.password||(t.password="Required"),t},Oe=r(178),fe=Object(Oe.a)((function(e){return{roundedCorner:{borderRadius:"5px"},lockIcon:{fontSize:"50px"},center:{textAlign:"center !important"}}}));function ge(e){return Object(ee.jsx)(be.a,Object(d.a)({elevation:6,variant:"filled"},e))}var we=function(e){var t=e.openLogin,r=e.setOpenLogin,n=fe(),s=Object(i.c)((function(e){return e.login})),c=(s.loading,s.errorMessage),o=s.errorStatus,l=Object(i.b)(),u=Object(a.useState)(o),m=Object($.a)(u,2),b=m[0],p=m[1],x=Object(a.useState)(!1),h=Object($.a)(x,2),O=h[0],f=h[1],g=function(e,t){"clickaway"!==t&&p(!1)},w=function(){f(!O)},v=function(e){e.preventDefault()};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(se.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:"bg-light",id:"login-section",children:Object(ee.jsxs)(se.a,{container:!0,item:!0,id:"login-inner-section",xs:11,md:10,className:n.roundedCorner,direction:"row",justify:"center",alignItems:"center",children:[Object(ee.jsxs)(se.a,{item:!0,xs:12,md:4,className:"text-center",children:[Object(ee.jsx)(me.a,{className:n.lockIcon}),Object(ee.jsx)("p",{style:{width:"50%"},className:"mx-auto fw-bold fs-5",children:"Enter into Website"})]}),Object(ee.jsx)(se.a,{container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,xs:12,md:8,children:Object(ee.jsx)(pe.b,{initialValues:Object(d.a)({},xe),validate:he,onSubmit:function(e){var t;l((t={username:e.username,password:e.password},{type:j,payload:t})),p(o)},children:function(e){return Object(ee.jsx)(pe.a,{children:Object(ee.jsxs)(se.a,{container:!0,item:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(ee.jsxs)(se.a,{item:!0,xs:12,className:"mt-5 mb-2 fs-3 text-center fw-bolder",children:["Log in"," "]}),Object(ee.jsx)(se.a,{item:!0,xs:9,className:"my-3",children:Object(ee.jsx)(ce.a,{fullWidth:!0,id:"login-username",name:"username",label:"Email",value:e.values.username,onChange:e.handleChange,error:e.touched.username&&Boolean(e.errors.username),helperText:e.touched.username&&e.errors.username})}),Object(ee.jsx)(se.a,{item:!0,xs:9,className:"my-3",children:Object(ee.jsx)(ce.a,{fullWidth:!0,id:"login-password",name:"password",label:"Password",type:O?"text":"password",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&Boolean(e.errors.password),helperText:e.touched.password&&e.errors.password,InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(ie.a,{"aria-label":"toggle password visibility",onClick:w,onMouseDown:v,children:O?Object(ee.jsx)(ue.a,{}):Object(ee.jsx)(de.a,{})})})}})}),Object(ee.jsx)(se.a,{container:!0,direction:"row",justify:"flex-end",item:!0,xs:9,children:Object(ee.jsx)(se.a,{component:re.a,className:"fw-bold text-decoration-none",item:!0,children:"Forgot Password ?"})}),Object(ee.jsxs)(se.a,{container:!0,item:!0,direction:"row",justify:"flex-end",xs:12,md:9,className:"my-5 text-center",children:[Object(ee.jsx)(se.a,{component:re.a,type:"submit",style:{borderRadius:"none"},item:!0,xs:9,md:4,className:"login-submit-button fw-bold py-2 fs-6 mx-5",children:"Login"}),Object(ee.jsx)(se.a,{item:!0,xs:9,md:4,component:re.a,style:{borderRadius:"none"},className:"login-register-button fw-bold py-2 fs-6",onClick:function(){r(!t)},children:"Create Profile"})]})]})})}})})]})}),Object(ee.jsx)(le.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:b,autoHideDuration:4e3,onClose:g,children:Object(ee.jsx)(ge,{onClose:g,severity:"error",children:c})})]})},ve=r(191),ye=r(97),Se=r.n(ye),Ce={email:"",username:"",password:"",confirmPassword:""},ke=function(e){var t={},r=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!_@#\$%\^&\*])(?=.{8,})/;return e.email||(t.email="Required"),e.username?e.username.length<3?t.username="Name should be less than 3 latters":e.username.length>50&&(t.username="Name should be more than 50 latters"):t.username="Required",e.password?e.password.match(r)||(t.password="Password is invalid !"):t.password="Required",e.confirmPassword?e.confirmPassword.match(r)?e.password!==e.confirmPassword&&(t.confirmPassword="Password doesn't match !"):t.confirmPassword="Confirm Password is invalid !":t.confirmPassword="Required",t},Ie=Object(Oe.a)((function(e){return{roundedCorner:{borderRadius:"5px"},personIcon:{fontSize:"50px"},center:{textAlign:"center !important"}}}));function Ee(e){return Object(ee.jsx)(be.a,Object(d.a)({elevation:6,variant:"filled"},e))}var Ne=function(e){var t=e.openLogin,r=e.setOpenLogin,n=Object(i.c)((function(e){return e.login})),s=(n.loading,n.errorMessage),c=n.errorStatus,o=Object(i.b)(),l=Object(a.useState)(c),u=Object($.a)(l,2),j=u[0],m=u[1],b=Object(a.useState)(!1),p=Object($.a)(b,2),x=p[0],O=p[1],f=Ie(),g=function(e,t){"clickaway"!==t&&m(!1)},w=function(){O(!x)},v=function(e){e.preventDefault()};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(se.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:"bg-light",id:"login-section",children:Object(ee.jsxs)(se.a,{container:!0,item:!0,id:"login-inner-section",md:10,className:f.roundedCorner,direction:"row",justify:"center",alignItems:"center",children:[Object(ee.jsxs)(se.a,{item:!0,md:4,className:f.center,children:[Object(ee.jsx)(Se.a,{className:f.personIcon}),Object(ee.jsx)("p",{style:{width:"60%"},className:"mx-auto fw-bold fs-5",children:"Make your profile"})]}),Object(ee.jsxs)(se.a,{container:!0,direction:"row",justify:"center",alignItems:"center",item:!0,md:8,children:[Object(ee.jsxs)(se.a,{item:!0,xs:9,className:"mt-5 mb-2 fs-3 text-center fw-bolder",children:["Create Profile"," "]}),Object(ee.jsx)(pe.b,{initialValues:Object(d.a)({},Ce),validate:ke,onSubmit:function(e){var t;o((t={email:e.email,password:e.password,username:e.username},{type:h,payload:t})),m(c)},children:function(e){return Object(ee.jsx)(pe.a,{children:Object(ee.jsxs)(se.a,{item:!0,container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(ee.jsx)(se.a,{item:!0,xs:9,className:"my-2",children:Object(ee.jsx)(ce.a,{fullWidth:!0,id:"register-email",name:"email",label:"Email",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&Boolean(e.errors.email),helperText:e.touched.email&&e.errors.email})}),Object(ee.jsx)(se.a,{item:!0,xs:9,className:"my-2",children:Object(ee.jsx)(ce.a,{fullWidth:!0,id:"register-name",name:"username",label:"Name",value:e.values.username,onChange:e.handleChange,error:e.touched.username&&Boolean(e.errors.username),helperText:e.touched.username&&e.errors.username})}),Object(ee.jsx)(se.a,{item:!0,xs:9,className:"my-2",children:Object(ee.jsx)(ve.a,{title:"Password should be min 8 digit long alphanumric,with a mixture of uppercase,lowercase,digit and special characters.",children:Object(ee.jsx)(ce.a,{fullWidth:!0,id:"login-password",name:"password",label:"Password",type:x?"text":"password",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&Boolean(e.errors.password),helperText:e.touched.password&&e.errors.password,InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(ie.a,{"aria-label":"toggle password visibility",onClick:w,onMouseDown:v,children:x?Object(ee.jsx)(ue.a,{}):Object(ee.jsx)(de.a,{})})})}})})}),Object(ee.jsx)(se.a,{item:!0,xs:9,className:"my-2",children:Object(ee.jsx)(ve.a,{title:"Password should be min 8 digit long alphanumric,with a mixture of uppercase,lowercase,digit and special characters.",children:Object(ee.jsx)(ce.a,{fullWidth:!0,id:"login-password",name:"confirmPassword",label:"Confirm Password",type:x?"text":"password",value:e.values.confirmPassword,onChange:e.handleChange,error:e.touched.confirmPassword&&Boolean(e.errors.confirmPassword),helperText:e.touched.confirmPassword&&e.errors.confirmPassword,InputProps:{endAdornment:Object(ee.jsx)(oe.a,{position:"end",children:Object(ee.jsx)(ie.a,{"aria-label":"toggle password visibility",onClick:w,onMouseDown:v,children:x?Object(ee.jsx)(ue.a,{}):Object(ee.jsx)(de.a,{})})})}})})}),Object(ee.jsx)(se.a,{container:!0,direction:"row",justify:"flex-end",item:!0,xs:9,children:Object(ee.jsx)(se.a,{component:re.a,className:"fw-bold text-decoration-none",item:!0,onClick:function(){return r(!t)},children:"Already have an Account"})}),Object(ee.jsx)(se.a,{item:!0,xs:9,className:"my-5 text-center",children:Object(ee.jsx)(re.a,{type:"submit",style:{borderRadius:"none"},className:"login-submit-button fw-bold py-2 fs-6",children:"Create Profile"})})]})})}})]})]})}),Object(ee.jsx)(le.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:j,autoHideDuration:4e3,onClose:g,children:Object(ee.jsx)(Ee,{onClose:g,severity:"error",children:s})})]})},Pe=function(){var e=Object(a.useState)(!0),t=Object($.a)(e,2),r=t[0],n=t[1];return Object(ee.jsx)(ee.Fragment,{children:r?Object(ee.jsx)(we,{openLogin:r,setOpenLogin:n}):Object(ee.jsx)(Ne,{openLogin:r,setOpenLogin:n})})},Re=function(){var e=Object(i.c)((function(e){return e.login})).email;return Object(ee.jsx)(ee.Fragment,{children:e?Object(ee.jsx)(ne,{}):Object(ee.jsx)(Pe,{})})},Le=function(){var e=Object(i.c)((function(e){return e.login})).loading,t=Object(i.c)((function(e){return e.login})).email,r=Object(a.useState)(!1),n=Object($.a)(r,2),s=(n[0],n[1]),c=Object(i.b)(),o=function(){return!!localStorage.getItem("token")&&(c((e={token:localStorage.getItem("token"),email:localStorage.getItem("email")},{type:x,payload:e})),!!t);var e};return Object(a.useEffect)((function(){s(o())}),[]),Object(ee.jsx)(ee.Fragment,{children:e?Object(ee.jsx)(te,{loading:e}):Object(ee.jsx)(Re,{})})};r(139);var Ae=function(){return Object(ee.jsx)(i.a,{store:Z,children:Object(ee.jsx)(o.a,{children:Object(ee.jsx)(Le,{})})})};c.a.render(Object(ee.jsx)(n.a.StrictMode,{children:Object(ee.jsx)(Ae,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.d0e2e62c.chunk.js.map